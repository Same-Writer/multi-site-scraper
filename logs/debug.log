=== Debug Log Started: 2025-09-01T20:55:06.483Z ===
Log Mode: overwrite
Log File: ./logs/debug.log
============================================================

[2025-09-01T20:55:06.484Z] [INFO] Initializing Workarea UI Scraper...
[2025-09-01T20:55:06.486Z] [INFO] Initializing Workarea UI Scraper...
[2025-09-01T20:55:06.491Z] [INFO] 
Available searches:
[2025-09-01T20:55:06.492Z] [INFO] 
BMW Z3 (ENABLED):
[2025-09-01T20:55:06.493Z] [INFO]   Description: BMW Z3 coupe listings
[2025-09-01T20:55:06.493Z] [INFO]   Frequency: hourly
[2025-09-01T20:55:06.494Z] [INFO]   Priority: high
[2025-09-01T20:55:06.495Z] [INFO]   Active sites: craigslist, facebook_marketplace, cargurus
[2025-09-01T20:55:06.496Z] [INFO]   Price range: 0 - 50000
[2025-09-01T20:55:06.497Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.497Z] [INFO] 
Mazda Miata (DISABLED):
[2025-09-01T20:55:06.498Z] [INFO]   Description: BMW 340i Listings
[2025-09-01T20:55:06.499Z] [INFO]   Frequency: daily
[2025-09-01T20:55:06.500Z] [INFO]   Priority: medium
[2025-09-01T20:55:06.500Z] [INFO]   Active sites: craigslist, facebook_marketplace
[2025-09-01T20:55:06.501Z] [INFO]   Price range: 2000 - 30000
[2025-09-01T20:55:06.501Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.502Z] [INFO] 
Porsche 911 (DISABLED):
[2025-09-01T20:55:06.502Z] [INFO]   Description: Porsche 911 sports car listings
[2025-09-01T20:55:06.503Z] [INFO]   Frequency: every_30_minutes
[2025-09-01T20:55:06.504Z] [INFO]   Priority: high
[2025-09-01T20:55:06.504Z] [INFO]   Active sites: craigslist
[2025-09-01T20:55:06.505Z] [INFO]   Price range: 15000 - 200000
[2025-09-01T20:55:06.506Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.506Z] [INFO] 
Chevrolet Corvette (ENABLED):
[2025-09-01T20:55:06.506Z] [INFO]   Description: Chevrolet Corvette manual transmission listings
[2025-09-01T20:55:06.507Z] [INFO]   Frequency: daily
[2025-09-01T20:55:06.508Z] [INFO]   Priority: high
[2025-09-01T20:55:06.508Z] [INFO]   Active sites: cargurus
[2025-09-01T20:55:06.508Z] [INFO]   Price range: 10000 - 100000
[2025-09-01T20:55:06.509Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.509Z] [INFO] 
Available searches:
[2025-09-01T20:55:06.509Z] [INFO] 
BMW Z3 (ENABLED):
[2025-09-01T20:55:06.510Z] [INFO]   Description: BMW Z3 coupe listings
[2025-09-01T20:55:06.510Z] [INFO]   Frequency: hourly
[2025-09-01T20:55:06.510Z] [INFO]   Priority: high
[2025-09-01T20:55:06.511Z] [INFO]   Active sites: craigslist, facebook_marketplace, cargurus
[2025-09-01T20:55:06.511Z] [INFO]   Price range: 0 - 50000
[2025-09-01T20:55:06.511Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.512Z] [INFO] 
Mazda Miata (DISABLED):
[2025-09-01T20:55:06.512Z] [INFO]   Description: BMW 340i Listings
[2025-09-01T20:55:06.512Z] [INFO]   Frequency: daily
[2025-09-01T20:55:06.513Z] [INFO]   Priority: medium
[2025-09-01T20:55:06.513Z] [INFO]   Active sites: craigslist, facebook_marketplace
[2025-09-01T20:55:06.513Z] [INFO]   Price range: 2000 - 30000
[2025-09-01T20:55:06.514Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.514Z] [INFO] 
Porsche 911 (DISABLED):
[2025-09-01T20:55:06.515Z] [INFO]   Description: Porsche 911 sports car listings
[2025-09-01T20:55:06.515Z] [INFO]   Frequency: every_30_minutes
[2025-09-01T20:55:06.516Z] [INFO]   Priority: high
[2025-09-01T20:55:06.517Z] [INFO]   Active sites: craigslist
[2025-09-01T20:55:06.517Z] [INFO]   Price range: 15000 - 200000
[2025-09-01T20:55:06.517Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.518Z] [INFO] 
Chevrolet Corvette (ENABLED):
[2025-09-01T20:55:06.518Z] [INFO]   Description: Chevrolet Corvette manual transmission listings
[2025-09-01T20:55:06.519Z] [INFO]   Frequency: daily
[2025-09-01T20:55:06.519Z] [INFO]   Priority: high
[2025-09-01T20:55:06.519Z] [INFO]   Active sites: cargurus
[2025-09-01T20:55:06.520Z] [INFO]   Price range: 10000 - 100000
[2025-09-01T20:55:06.520Z] [INFO]   Notifications: enabled
[2025-09-01T20:55:06.521Z] [INFO] Workarea UI Scraper initialized successfully
[2025-09-01T20:55:06.521Z] [INFO] Workarea UI Scraper initialized successfully
[2025-09-01T20:55:06.522Z] [INFO] 
=== Running specific search: BMW Z3 (cargurus only) ===
[2025-09-01T20:55:06.522Z] [INFO] 
=== Running search: BMW Z3 ===
[2025-09-01T20:55:06.522Z] [INFO] Description: BMW Z3 coupe listings
[2025-09-01T20:55:06.523Z] [INFO] 
--- Scraping cargurus for BMW Z3 ---
[2025-09-01T20:55:06.525Z] [INFO] Starting modular scrape of: https://www.cargurus.com/
[2025-09-01T20:55:06.525Z] [INFO] Using scraper for: CarGurus
[2025-09-01T20:55:06.527Z] [INFO] Initializing CarGurus scraper...
[2025-09-01T20:55:06.663Z] [INFO] Camoufox initialization failed: __dirname is not defined in ES module scope
This file is being treated as an ES module because it has a '.js' file extension and '/usr/src/app/node_modules/camoufox/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
[2025-09-01T20:55:06.663Z] [INFO] Falling back to enhanced Puppeteer with stealth plugin
[2025-09-01T20:55:06.678Z] [WARN] [1m[43m[30m
  Puppeteer old Headless deprecation warning:[0m[33m
    In the near future `headless: true` will default to the new Headless mode
    for Chrome instead of the old Headless implementation. For more
    information, please see https://developer.chrome.com/articles/new-headless/.
    Consider opting in early by passing `headless: "new"` to `puppeteer.launch()`
    If you encounter any bugs, please report them to https://github.com/puppeteer/puppeteer/issues/new/choose.[0m

[2025-09-01T20:55:10.947Z] [INFO] CarGurus scraper initialized successfully
[2025-09-01T20:55:10.949Z] [INFO] Starting CarGurus scrape of: https://www.cargurus.com/
[2025-09-01T20:55:10.951Z] [INFO] Starting CarGurus two-phase navigation for search: bmw_z3
[2025-09-01T20:55:10.952Z] [INFO] Phase 1: Navigating to CarGurus base URL and filling initial form
[2025-09-01T20:55:10.953Z] [INFO] Navigating to base URL: https://www.cargurus.com
[2025-09-01T20:55:15.732Z] [INFO] Actual URL after navigation: https://www.cargurus.com/
[2025-09-01T20:55:31.465Z] [INFO] Waiting for CarGurus search form to load...
[2025-09-01T20:55:32.984Z] [INFO] Selecting condition: used
[2025-09-01T20:55:32.987Z] [INFO] Attempting to select option 'used' using selector: select[name='condition'], [data-testid='condition-select'], #condition
[2025-09-01T20:55:37.516Z] [INFO] Found element with broad selector: select
[2025-09-01T20:55:37.769Z] [INFO] Element tag name: select
[2025-09-01T20:55:37.771Z] [INFO] Using page.select for select element with selector: select
[2025-09-01T20:55:40.681Z] [INFO] Selecting make: bmw
[2025-09-01T20:55:40.682Z] [INFO] Attempting to select option 'bmw' using selector: select[name='make'], [data-testid='make-select'], #make
[2025-09-01T20:55:45.202Z] [INFO] Found element with broad selector: select
[2025-09-01T20:55:45.457Z] [INFO] Element tag name: select
[2025-09-01T20:55:45.461Z] [INFO] Using page.select for select element with selector: select
[2025-09-01T20:55:48.499Z] [INFO] Selecting model: z3
[2025-09-01T20:55:48.500Z] [INFO] Attempting to select option 'z3' using selector: select[name='model'], [data-testid='model-select'], #model
[2025-09-01T20:55:53.027Z] [INFO] Found element with broad selector: select
[2025-09-01T20:55:53.280Z] [INFO] Element tag name: select
[2025-09-01T20:55:53.282Z] [INFO] Using page.select for select element with selector: select
[2025-09-01T20:55:56.499Z] [INFO] Entering zip code: 94040
[2025-09-01T20:55:56.502Z] [INFO] Attempting to fill input '94040' using selector: input[name='zip'], [data-testid='zip-input'], #zip
[2025-09-01T20:56:01.010Z] [INFO] Found input element with broad selector: input[type="text"]
[2025-09-01T20:56:13.040Z] [INFO] Submitting CarGurus search form...
[2025-09-01T20:56:21.758Z] [INFO] Phase 1 completed: CarGurus form submission successful
[2025-09-01T20:56:21.759Z] [INFO] Phase 2: Applying URL modifiers: maxMileage=100000
[2025-09-01T20:56:21.760Z] [INFO] Navigating to filtered URL: https://www.cargurus.com/Cars/inventorylisting/viewDetailsFilterViewInventoryListing.action?sourceContext=carGurusHomePageModel&entitySelectingHelper.selectedEntity=&zip=94041&maxMileage=100000
[2025-09-01T20:56:25.297Z] [INFO] Phase 2 completed: URL modifiers applied successfully
[2025-09-01T20:56:25.300Z] [INFO] CarGurus two-phase navigation completed successfully
[2025-09-01T20:56:25.303Z] [INFO] Handling CarGurus pagination...
[2025-09-01T20:56:28.339Z] [INFO] No more pages available
[2025-09-01T20:56:28.340Z] [INFO] CarGurus pagination completed, processed 1 pages
[2025-09-01T20:56:28.343Z] [INFO] Extracting data from CarGurus...
[2025-09-01T20:56:28.343Z] [INFO] Waiting for listing containers with selector: .cg-dealFinder-result-wrap, [data-testid='listing-row'], .listing-row, .srp-list-item
[2025-09-01T20:56:38.348Z] [WARN] CarGurus listing containers not found, page may have no results
[2025-09-01T20:56:39.874Z] [INFO] Current page URL: https://www.cargurus.com/Cars/inventorylisting/viewDetailsFilterViewInventoryListing.action?sourceContext=carGurusHomePageModel&entitySelectingHelper.selectedEntity=&zip=94041&maxMileage=100000
[2025-09-01T20:56:40.126Z] [INFO] Page title: cargurus.com
[2025-09-01T20:56:41.886Z] [INFO] Page text (first 1000 chars): ...
[2025-09-01T20:56:41.890Z] [INFO] Checking for possible listing containers with various selectors...
[2025-09-01T20:57:40.860Z] [INFO] Getting broader view of page structure...
[2025-09-01T20:57:41.113Z] [INFO] Class counts for relevant classes: {}
[2025-09-01T20:57:41.116Z] [INFO] Data-testid counts for relevant attributes: {}
[2025-09-01T20:57:41.119Z] [INFO] Total unique classes found: 0
[2025-09-01T20:57:41.120Z] [INFO] Total unique data-testid values found: 0
[2025-09-01T20:57:41.121Z] [INFO] Body HTML snippet (first 5000 chars): <script data-cfasync="false">var dd={'rt':'c','cid':'AHrlqAAAAAMA6weceaqbQu8ArAroWg==','hsh':'C3D682D3F2321D709B3DA56E04E573','t':'fe','qp':'','s':42811,'e':'337db1f6cdedcd5f1a9e8bdb5a2bb38bf856132acd8da985c0c743cdb1b55dc1','host':'geo.captcha-delivery.com','cookie':'_wqsF~c85p0jSP_~x5KkGUtKcqoIhROte1C2WW0rWRCDCBMAvu1GZ6fsowxnAlrs_XogRn0yHCZmG4EQTCVdoHtHDjAsTeYUpHFn6gihaPuieokGW1KySkSpZshoV6FK'}</script><script data-cfasync="false" src="https://ct.captcha-delivery.com/c.js"></script><iframe src="https://geo.captcha-delivery.com/captcha/?initialCid=AHrlqAAAAAMA6weceaqbQu8ArAroWg%3D%3D&amp;hash=C3D682D3F2321D709B3DA56E04E573&amp;cid=_wqsF~c85p0jSP_~x5KkGUtKcqoIhROte1C2WW0rWRCDCBMAvu1GZ6fsowxnAlrs_XogRn0yHCZmG4EQTCVdoHtHDjAsTeYUpHFn6gihaPuieokGW1KySkSpZshoV6FK&amp;t=fe&amp;referer=https%3A%2F%2Fwww.cargurus.com%2FCars%2Finventorylisting%2FviewDetailsFilterViewInventoryListing.action%3FsourceContext%3DcarGurusHomePageModel%26entitySelectingHelper.selectedEntity%3D%26zip%3D94041%26maxMileage%3D100000&amp;s=42811&amp;e=337db1f6cdedcd5f1a9e8bdb5a2bb38bf856132acd8da985c0c743cdb1b55dc1&amp;dm=cd" sandbox="allow-scripts allow-same-origin allow-forms" allow="accelerometer; gyroscope; magnetometer" title="DataDome CAPTCHA" width="100%" height="100%" style="height:100vh;" frameborder="0" border="0" scrolling="yes"></iframe>
[2025-09-01T20:57:41.122Z] [INFO] Checking for script tags with JSON data...
[2025-09-01T20:57:44.635Z] [INFO] Checking for any elements that might contain listing information...
[2025-09-01T20:57:59.767Z] [INFO] Found 1 CAPTCHA iframes on page
[2025-09-01T20:58:00.021Z] [INFO] CAPTCHA iframe 1 source: https://geo.captcha-delivery.com/captcha/?initialCid=AHrlqAAAAAMA6weceaqbQu8ArAroWg%3D%3D&hash=C3D682D3F2321D709B3DA56E04E573&cid=_wqsF~c85p0jSP_~x5KkGUtKcqoIhROte1C2WW0rWRCDCBMAvu1GZ6fsowxnAlrs_XogRn0yHCZmG4EQTCVdoHtHDjAsTeYUpHFn6gihaPuieokGW1KySkSpZshoV6FK&t=fe&referer=https%3A%2F%2Fwww.cargurus.com%2FCars%2Finventorylisting%2FviewDetailsFilterViewInventoryListing.action%3FsourceContext%3DcarGurusHomePageModel%26entitySelectingHelper.selectedEntity%3D%26zip%3D94041%26maxMileage%3D100000&s=42811&e=337db1f6cdedcd5f1a9e8bdb5a2bb38bf856132acd8da985c0c743cdb1b55dc1&dm=cd
[2025-09-01T20:58:00.024Z] [ERROR] Error extracting data from CarGurus: CAPTCHA challenge detected from DataDome. This is preventing access to CarGurus search results. Consider using official APIs or manual data collection for CarGurus.
[2025-09-01T20:58:00.026Z] [ERROR] Error scraping CarGurus: CAPTCHA challenge detected from DataDome. This is preventing access to CarGurus search results. Consider using official APIs or manual data collection for CarGurus.
[2025-09-01T20:58:00.029Z] [ERROR] Error in modular scraping for CarGurus: CAPTCHA challenge detected from DataDome. This is preventing access to CarGurus search results. Consider using official APIs or manual data collection for CarGurus.
[2025-09-01T20:58:00.300Z] [INFO] CarGurus scraper closed
[2025-09-01T20:58:00.302Z] [ERROR] Error scraping cargurus for BMW Z3: CAPTCHA challenge detected from DataDome. This is preventing access to CarGurus search results. Consider using official APIs or manual data collection for CarGurus.
[2025-09-01T20:58:00.304Z] [INFO] 
=== Search completed: 0 total results ===
[2025-09-01T20:58:00.305Z] [INFO] 
Scraping completed successfully!
[2025-09-01T20:58:00.306Z] [INFO] Scraping completed successfully

============================================================
=== Debug Log Ended: 2025-09-01T20:58:00.314Z ===
Total log entries: 131
